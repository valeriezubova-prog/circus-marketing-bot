# –¶–∏—Ä–∫ –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ üé™

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç Telegram‚Äë–±–æ—Ç ¬´–¶–∏—Ä–∫ –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥¬ª, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –∫–æ–ª–ª–µ–≥–∞–º –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –æ—Ç–¥–µ–ª–µ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞ –°–±–µ—Ä–ú–æ–±–∞–π–ª–∞. –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ —Ç–æ–º, –∫—Ç–æ —á–µ–º –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è, –≥–¥–µ –≤–∑—è—Ç—å –Ω—É–∂–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∏ –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ç–∞–≤–∏—Ç—å –∑–∞–¥–∞—á–∏. –ü–∞–∫–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–∞ [Render.com](https://render.com) –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ GitHub.

## –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏

* **Dockerfile** ‚Äî —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Python¬†3.11.9 –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ –±–æ—Ç–∞.
* **render.yaml** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–±–æ—á–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ Render. –ù—É–∂–µ–Ω –¥–ª—è –¥–µ–ø–ª–æ—è.
* **requirements.txt** ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python.
* **runtime.txt** ‚Äî —É—Ç–æ—á–Ω—è–µ—Ç –≤–µ—Ä—Å–∏—é Python (3.11.9) –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç—É –Ω–æ—Ç–∞—Ü–∏—é.
* **.env.example** ‚Äî –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è; —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ.
* **app/** ‚Äî –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –±–æ—Ç–∞:
  * `main.py` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞; —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –ª–æ–≥–∏–∫–∏ –º–µ–Ω—é, –ø–æ–∏—Å–∫–∞ –∏ –∫–∞—Ä—Ç–æ—á–µ–∫.
  * `content.py` ‚Äî –≤—Å–µ —Ç–µ–∫—Å—Ç—ã, –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ —Å—Å—ã–ª–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Å–æ–≥–ª–∞—Å–æ–≤–∞–ª–∏.
  * `storage.py` ‚Äî –º–æ–¥—É–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è `file_id` —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –≤ SQLite.

## –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ (Docker)

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   - **BOT_TOKEN**¬†‚Äî —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –∏–∑ BotFather.
   - **ADMIN_USERNAMES**¬†‚Äî —Å–ø–∏—Å–æ–∫ Telegram‚Äëusername –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–π –∑–∞–ø—è—Ç—ã–º–∏ (–±–µ–∑ `@`).
2. –°–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑:

   ```bash
   docker build -t circus-bot .
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –ø–µ—Ä–µ–¥–∞–≤ —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:

   ```bash
   docker run --env-file .env -v $(pwd)/data:/data circus-bot
   ```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ä–µ–∂–∏–º–µ long polling. –ß—Ç–æ–±—ã –±–æ—Ç–∞ –º–æ–∂–Ω–æ –±—ã–ª–æ –≤—ã–∑—ã–≤–∞—Ç—å –∏–∑ Telegram, –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.

## –î–µ–ø–ª–æ–π –Ω–∞ Render

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ç—É–¥–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —ç—Ç–æ–π –ø–∞–ø–∫–∏.
2. –ó–∞–π–¥–∏—Ç–µ –≤ Render ‚Üí *New ‚Üí Blueprint* –∏ —É–∫–∞–∂–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
3. Render –ø—Ä–æ—á–∏—Ç–∞–µ—Ç `render.yaml` –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç —Å–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç–∏–ø–∞ Worker.
4. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–µ—Ä–≤–∏—Å–∞ –¥–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è **BOT_TOKEN** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ). –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–π —Å–ø–∏—Å–æ–∫ **ADMIN_USERNAMES**.
5. Render —Å–æ–∑–¥–∞—Å—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –¥–∏—Å–∫ `/data`, –≥–¥–µ –±–æ—Ç –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –±–∞–∑—É —Å `file_id` —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π.

## –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–ª —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ –≤–∏–¥–µ Telegram‚Äë—Ñ–∞–π–ª–æ–≤, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞–∂–¥–æ–µ —Ñ–æ—Ç–æ:

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–ø–∏—Å–æ–∫ slug (–∫–æ—Ä–æ—Ç–∫–∏—Ö –∏–º—ë–Ω) –∏–∑ `app/content.py` ‚Äî –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–µ—Ä–≤–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ –∫–∞–∂–¥–æ–≥–æ –∫–æ—Ä—Ç–µ–∂–∞ `PEOPLE`.
2. –í Telegram –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É —Ñ–æ—Ç–æ –∏ –≤ –ø–æ–¥–ø–∏—Å–∏ –Ω–∞–ø–∏—à–∏—Ç–µ `/photo <slug>`, –Ω–∞–ø—Ä–∏–º–µ—Ä:

   ```
   /photo lera-zubova
   ```

–ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç `file_id` –∏ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö.

## –ö–æ–Ω—Ç–µ–Ω—Ç

–í—Å–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã (–º–µ–Ω—é, –∫–∞—Ä—Ç–æ—á–∫–∏, –º–∞—Ç–µ—Ä–∏–∞–ª—ã, FAQ) –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `app/content.py`. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã –º–æ–∂–µ—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏, –Ω–µ –º–µ–Ω—è—è –∫–æ–¥.

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –∫–æ–¥ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö –±–µ–∑ –∫–∞–∫–æ–π‚Äë–ª–∏–±–æ –≥–∞—Ä–∞–Ω—Ç–∏–∏.